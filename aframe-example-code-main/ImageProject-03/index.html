<!DOCTYPE html>
<html>
  <head>
    <title>Wildflower Meadow Dream</title>
    <script src="https://aframe.io/releases/1.7.1/aframe.min.js"> </script>

    <!--fix gray GLB materials-->
    <script>
      AFRAME.registerComponent('fix-materials', 
      {
        init: function () 
        {
          this.el.addEventListener('model-loaded', () => 
          {
            const mesh = this.el.getObject3D('mesh');
            if (!mesh) return;
            mesh.traverse(function (node) 
            {
              if (node.isMesh && node.material) 
              {
                node.material.needsUpdate = true;
              }
            });
          });
        }
      });
    </script>
  </head>

  <body>
  
    <a-scene>

      <!--assets-->
      <a-assets>
        <img id="skyTexture" src="DarkSky.jpeg">
        <img id="bushTexture" src="Bush.avif">
        <img id="grassTexture" src="Grass.jpg">
        <a-asset-item id="tulipModel" src="Tulip.glb"></a-asset-item>
        <a-asset-item id="butterflyModel" src="butterfly.glb"></a-asset-item>
      </a-assets>

      <!--sky-->
      <a-sky src="#skyTexture" rotation="0 -90 0"></a-sky>

      <!--ground plane (grass)-->
      <a-plane position="0 0 0" rotation="-90 0 0" width="200" height="200" material="src: #grassTexture; repeat: 20 16;">
      </a-plane>

      <!--river encircling the meadow-->
      <a-ring position="0 0.01 0" rotation="-90 0 0" radius-inner="18" radius-outer="24" material="color: #4fa6ff; opacity: 0.9; roughness: 0.2; metalness: 0.1"></a-ring>

      <!--"hills"-->
      <a-sphere position="-40 3 -30" radius="12" scale="1.2 0.4 1.2" material="src: #bushTexture;"></a-sphere>
      <a-sphere position="35 4 25" radius="10" scale="1.3 0.4 1.3" material="src: #bushTexture;"></a-sphere>
      <a-sphere position="-30 2 40" radius="14" scale="1.4 0.4 1.5" material="src: #bushTexture;"></a-sphere>

      <!--background bushes (big squished spheres)-->
      <a-sphere position="-6 1 -10" radius="4" scale="1 0.4 1" material="src: #bushTexture; repeat: 3 2;"></a-sphere>
      <a-sphere position="5 1 -14" radius="5" scale="1.3 0.4 1.3" material="src: #bushTexture; repeat: 3 2;"></a-sphere>
      <a-sphere position="-6 1 -10" radius="4" scale="1 0.4 1" material="src: #bushTexture; repeat: 4 3; roughness: 0.9; metalness: 0;"></a-sphere>
      <a-sphere position="7 1 -8" radius="3.5" scale="1.2 0.4 1.2" material="src: #bushTexture; repeat: 3 2; roughness: 0.9; metalness: 0;"></a-sphere>
      <a-sphere position="-8 1 6" radius="3.8" scale="1.1 0.4 1.1" material="src: #bushTexture; repeat: 3 2; roughness: 0.9; metalness: 0;"></a-sphere>
      <a-sphere position="6 1 8" radius="3.8" scale="1 0.4 1.2" material="src: #bushTexture; repeat: 3 2; roughness: 0.9; metalness: 0;"></a-sphere>
      <!--far away bushes-->
      <a-sphere position="20 1 -20" radius="4" scale="1.2 0.4 1.2" material="src: #bushTexture; repeat: 3 2;"></a-sphere>
      <a-sphere position="-20 1 -18" radius="4" scale="1.1 0.4 1.1" material="src: #bushTexture; repeat: 3 2;"></a-sphere>
      <a-sphere position="18 1 20" radius="4" scale="1.3 0.4 1.3" material="src: #bushTexture; repeat: 3 2;"></a-sphere>
      <a-sphere position="-22 1 16" radius="4" scale="1.2 0.4 1.2" material="src: #bushTexture; repeat: 3 2;"></a-sphere>
      <a-sphere position="25 1 0" radius="5" scale="1.3 0.4 1.3" material="src: #bushTexture; repeat: 3 2;"></a-sphere>
      <a-sphere position="-25 1 0" radius="5" scale="1.3 0.4 1.3" material="src: #bushTexture; repeat: 3 2;"></a-sphere>
      <a-sphere position="0 1 25" radius="4.5" scale="1.2 0.4 1.2" material="src: #bushTexture; repeat: 3 2;"></a-sphere>
      <a-sphere position="0 1 -25" radius="4.5" scale="1.2 0.4 1.2" material="src: #bushTexture; repeat: 3 2;"></a-sphere>

      <!--360Â° distant mountains (unreachable horizon ring)-->
      <a-cone position="-80 15 -80" radius-bottom="35" radius-top="0.5" height="50" color="#353d52"></a-cone>
      <a-cone position="-80 15 0" radius-bottom="30" radius-top="0.5" height="45" color="#3f475c"></a-cone>
      <a-cone position="-80 15 80" radius-bottom="35" radius-top="0.5" height="50" color="#353d52"></a-cone>

      <a-cone position="0 18 -90" radius-bottom="40" radius-top="0.5" height="55" color="#262d3f"></a-cone>
      <a-cone position="0 18 90" radius-bottom="40" radius-top="0.5" height="55" color="#262d3f"></a-cone>

      <a-cone position="80 15 -80" radius-bottom="35" radius-top="0.5" height="50" color="#2e3648"></a-cone>
      <a-cone position="80 15 0" radius-bottom="30" radius-top="0.5" height="45" color="#3f475c"></a-cone>
      <a-cone position="80 15 80" radius-bottom="35" radius-top="0.5" height="50" color="#2e3648"></a-cone>


      <!--butterflies (3d modles)-->
      <!--models from turbosquid.com-->
      <a-entity gltf-model="#butterflyModel" position="-2 3 -6" scale="0.01 0.01 0.01" material="color: #ffb347; roughness: 1; metalness: 0" fix-materials animation__fly1="property: position; from:-2 3 -6; to:3 4 -2; dur:9000; easing:linear; loop:true"></a-entity>
      <a-entity gltf-model="#butterflyModel" position="1 2.5 -5" scale="0.009 0.009 0.009" material="color: #ffc36b; roughness: 1; metalness: 0" fix-materials animation__fly2="property: position; from:1 2.5 -5; to:-3 4 -1; dur:11000; easing:linear; loop:true"></a-entity>
      <a-entity gltf-model="#butterflyModel" position="3 3.5 -4" scale="0.01 0.01 0.01" material="color: #ffb347; roughness: 1; metalness: 0" fix-materials animation__fly3="property: position; from:3 3.5 -4; to:-2 5 -6; dur:10000; easing:linear; loop:true"></a-entity>
      <a-entity gltf-model="#butterflyModel" position="-4 4 -3" scale="0.01 0.01 0.01" material="color: #ffd27f; roughness: 1; metalness: 0" fix-materials animation__fly4="property: position; from:-4 4 -3; to:4 3 -6; dur:9500; easing:linear; loop:true"></a-entity>
      <a-entity gltf-model="#butterflyModel" position="2 3 -2" scale="0.009 0.009 0.009" material="color: #ffb347; roughness: 1; metalness: 0" fix-materials animation__fly5="property: position; from:2 3 -2; to:-2 5 -4; dur:12000; easing:linear; loop:true"></a-entity>
      <a-entity gltf-model="#butterflyModel" position="-1 4 -5" scale="0.01 0.01 0.01" material="color: #ffc36b; roughness: 1; metalness: 0" fix-materials animation__fly6="property: position; from:-1 4 -5; to:3 3 -3; dur:10500; easing:linear; loop:true"></a-entity>

      <!--sun-->
      <a-sphere position="-5 8 -12" radius="1.5" color="#fff4aa" material="emissive: #fff4aa; emissiveIntensity: 1.4"></a-sphere>

      <!--trees (cylinder+sphere)-->
      <a-entity position="-3 0 -6">
        <a-cylinder height="2" radius="0.15" material="src: #bushTexture; repeat: 3 2;"></a-cylinder>
        <a-sphere position="0 1.5 0" radius="1" material="src: #bushTexture; repeat: 3 2;"></a-sphere>
      </a-entity>

      <a-entity position="4 0 -4">
        <a-cylinder height="2.4" radius="0.16" material="src: #bushTexture; repeat: 3 2;"></a-cylinder>
        <a-sphere position="0 1.8 0" radius="1.2" material="src: #bushTexture; repeat: 3 2;"></a-sphere>
      </a-entity>

      <a-entity position="-3 0 -6">
        <a-cylinder height="2" radius="0.15" color="#8b5a2b"></a-cylinder>
        <a-sphere position="0 1.5 0" radius="1" material="src: #bushTexture; repeat: 3 2;"></a-sphere>
      </a-entity>

      <a-entity position="4 0 -4">
        <a-cylinder height="2.4" radius="0.16" color="#8b5a2b"></a-cylinder>
        <a-sphere position="0 1.8 0" radius="1.2" material="src: #bushTexture; repeat: 3 2;"></a-sphere>
      </a-entity>

      <a-entity position="0 0 -9">
        <a-cylinder height="3" radius="0.18" color="#8b5a2b"></a-cylinder>
        <a-sphere position="0 2.1 0" radius="1.4" material="src: #bushTexture; repeat: 3 2;"></a-sphere>
      </a-entity>

      <a-entity position="-4 0 6">
        <a-cylinder height="2.2" radius="0.15" color="#8b5a2b"></a-cylinder>
        <a-sphere position="0 1.7 0" radius="1.1" color="#2f7b3b"></a-sphere>
      </a-entity>
      
      <a-entity position="3.5 0 5.5">
        <a-cylinder height="2.6" radius="0.16" color="#8b5a2b"></a-cylinder>
        <a-sphere position="0 1.9 0" radius="1.2" color="#2c6f36"></a-sphere>
      </a-entity>
      
      <a-entity position="0.5 0 8">
        <a-cylinder height="2.8" radius="0.17" color="#8b5a2b"></a-cylinder>
        <a-sphere position="0 2.0 0" radius="1.25" color="#2b6a33"></a-sphere>
      </a-entity>

      <a-entity position="-7 0 -2">
        <a-cylinder height="2.4" radius="0.17" color="#8b5a2b"></a-cylinder>
        <a-sphere position="0 1.9 0" radius="1.2" color="#2c7439"></a-sphere>
      </a-entity>

      <a-entity position="-7.5 0 2.5">
        <a-cylinder height="2.8" radius="0.18" color="#8b5a2b"></a-cylinder>
        <a-sphere position="0 2.1 0" radius="1.3" color="#2a6c35"></a-sphere>
      </a-entity>

      <a-entity position="7 0 -1">
        <a-cylinder height="2.3" radius="0.16" color="#8b5a2b"></a-cylinder>
        <a-sphere position="0 1.8 0" radius="1.15" color="#2f7b3b"></a-sphere>
      </a-entity>

      <a-entity position="7.5 0 3">
        <a-cylinder height="2.7" radius="0.18" color="#8b5a2b"></a-cylinder>
        <a-sphere position="0 2.0 0" radius="1.3" color="#2c6f36"></a-sphere>
      </a-entity>


      <!--flower 1-->
      <a-entity position="0 0 -3">
        <!--stem-->
        <a-cylinder position="0 0.6 0" radius="0.05" height="1.2" color="#2f8a3a"></a-cylinder>
        <!--petals (ring)-->
        <a-ring position="0 1.3 0" rotation="90 0 0" radius-inner="0.15" radius-outer="0.3" color="#ff9ad5"></a-ring>
        <!--center-->
        <a-sphere position="0 1.3 0" radius="0.12" color="#ffd86b"></a-sphere>
        <!--gentle sway-->
        <a-animation attribute="rotation" dur="4000" from="-5 0 0" to="5 0 0" direction="alternate" repeat="indefinite"></a-animation>
      </a-entity>

      <!--flower 2-->
      <a-entity position="1.5 0 -2">
        <a-cylinder position="0 0.5 0" radius="0.04" height="1" color="#2f8a3a"></a-cylinder>
        <a-ring position="0 1.1 0" rotation="90 0 0" radius-inner="0.12" radius-outer="0.27" color="#9ad5ff"></a-ring>
        <a-sphere position="0 1.1 0" radius="0.1" color="#ffe58a"></a-sphere>
        <a-animation attribute="rotation" dur="4500" from="-3 0 0" to="3 0 0" direction="alternate" repeat="indefinite"></a-animation>
      </a-entity>

      <!--flower 3-->
      <a-entity position="-1.8 0 -2.5">
        <a-cylinder position="0 0.7 0" radius="0.045" height="1.4" color="#2f8a3a"></a-cylinder>
        <a-ring position="0 1.5 0" rotation="90 0 0" radius-inner="0.18" radius-outer="0.32" color="#ffb3c1"></a-ring>
        <a-sphere position="0 1.5 0" radius="0.11" color="#ffeaa0"></a-sphere>
        <a-animation attribute="rotation" dur="3800" from="-4 0 0" to="4 0 0" direction="alternate" repeat="indefinite"></a-animation>
      </a-entity>

      <!--flower 4-->
      <a-entity position="0 0 -3">
        <a-cylinder position="0 0.6 0" radius="0.05" height="1.2" color="#2f8a3a"></a-cylinder>
        <a-ring position="0 1.3 0" rotation="90 0 0" radius-inner="0.15" radius-outer="0.3" color="#ff9ad5"></a-ring>
        <a-sphere position="0 1.3 0" radius="0.12" color="#ffd86b"></a-sphere>
        <a-animation attribute="rotation" dur="4000" from="-5 0 0" to="5 0 0" direction="alternate" repeat="indefinite"></a-animation>
      </a-entity>
      <!--flower 5-->

      <a-entity position="1.5 0 -2">
        <a-cylinder position="0 0.5 0" radius="0.04" height="1" color="#2f8a3a"></a-cylinder>
        <a-ring position="0 1.1 0" rotation="90 0 0" radius-inner="0.12" radius-outer="0.27" color="#9ad5ff"></a-ring>
        <a-sphere position="0 1.1 0" radius="0.1" color="#ffe58a"></a-sphere>
        <a-animation attribute="rotation" dur="4500" from="-3 0 0" to="3 0 0" direction="alternate" repeat="indefinite"></a-animation>
      </a-entity>

      <!--flower 6-->
      <a-entity position="-1.8 0 -2.5">
        <a-cylinder position="0 0.7 0" radius="0.045" height="1.4" color="#2f8a3a"></a-cylinder>
        <a-ring position="0 1.5 0" rotation="90 0 0" radius-inner="0.18" radius-outer="0.32" color="#ffb3c1"></a-ring>
        <a-sphere position="0 1.5 0" radius="0.11" color="#ffeaa0"></a-sphere>
        <a-animation attribute="rotation" dur="3800" from="-4 0 0" to="4 0 0" direction="alternate" repeat="indefinite"></a-animation>
      </a-entity>

      <!--flower 7-->
      <a-entity position="3 0 -1">
        <a-cylinder position="0 0.5 0" radius="0.04" height="1" color="#2f8a3a"></a-cylinder>
        <a-ring position="0 1.1 0" rotation="90 0 0" radius-inner="0.13" radius-outer="0.28" color="#ffa5d1"></a-ring>
        <a-sphere position="0 1.1 0" radius="0.1" color="#ffe58a"></a-sphere>
        <a-animation attribute="rotation" dur="4300" from="-3 0 0" to="3 0 0" direction="alternate" repeat="indefinite"></a-animation>
      </a-entity>

      <!--flower 8-->
      <a-entity position="-3.2 0 -1.2">
        <a-cylinder position="0 0.5 0" radius="0.04" height="1" color="#2f8a3a"></a-cylinder>
        <a-ring position="0 1.1 0" rotation="90 0 0" radius-inner="0.13" radius-outer="0.28" color="#9ad5ff"></a-ring>
        <a-sphere position="0 1.1 0" radius="0.1" color="#ffe58a"></a-sphere>
        <a-animation attribute="rotation" dur="4200" from="-3 0 0" to="3 0 0" direction="alternate" repeat="indefinite"></a-animation>
      </a-entity>

      <!--flower 9-->
      <a-entity position="-1 0 3">
        <a-cylinder position="0 0.6 0" radius="0.05" height="1.2" color="#2f8a3a"></a-cylinder>
        <a-ring position="0 1.3 0" rotation="90 0 0" radius-inner="0.15" radius-outer="0.3" color="#ff9ad5"></a-ring>
        <a-sphere position="0 1.3 0" radius="0.12" color="#ffd86b"></a-sphere>
        <a-animation attribute="rotation" dur="4100" from="-5 0 0" to="5 0 0" direction="alternate" repeat="indefinite"></a-animation>
      </a-entity>

      <!--flower 10-->
      <a-entity position="1.8 0 3.5">
        <a-cylinder position="0 0.5 0" radius="0.04" height="1" color="#2f8a3a"></a-cylinder>
        <a-ring position="0 1.1 0" rotation="90 0 0" radius-inner="0.12" radius-outer="0.27" color="#9ad5ff"></a-ring>
        <a-sphere position="0 1.1 0" radius="0.1" color="#ffe58a"></a-sphere>
        <a-animation attribute="rotation" dur="4400" from="-3 0 0" to="3 0 0" direction="alternate" repeat="indefinite"></a-animation>
      </a-entity>

      <!--patch of flowers (3D tulips)-->
      <!--model from free3d.com-->
      <a-entity position="2.8 0 -4" scale="0.03 0.03 0.03" animation__sway="property: rotation; dur: 3800; dir: alternate; to: 0 8 0; loop: true"><a-entity gltf-model="#tulipModel" rotation="-90 0 0"></a-entity></a-entity>
      <a-entity position="3.2 0 -4.3" scale="0.03 0.03 0.03" animation__sway="property: rotation; dur: 4200; dir: alternate; to: 0 -10 0; loop: true"><a-entity gltf-model="#tulipModel" rotation="-90 0 0"></a-entity></a-entity>
      <a-entity position="2.4 0 -4.2" scale="0.03 0.03 0.03" animation__sway="property: rotation; dur: 4000; dir: alternate; to: 0 12 0; loop: true"><a-entity gltf-model="#tulipModel" rotation="-90 0 0"></a-entity></a-entity>

      <a-entity position="-2.6 0 4.2" scale="0.03 0.03 0.03" animation__sway="property: rotation; dur: 3600; dir: alternate; to: 0 -8 0; loop: true"><a-entity gltf-model="#tulipModel" rotation="-90 0 0"></a-entity></a-entity>
      <a-entity position="-3.1 0 4.5" scale="0.03 0.03 0.03" animation__sway="property: rotation; dur: 4200; dir: alternate; to: 0 15 0; loop: true"><a-entity gltf-model="#tulipModel" rotation="-90 0 0"></a-entity></a-entity>
      <a-entity position="-2.1 0 4.0" scale="0.03 0.03 0.03" animation__sway="property: rotation; dur: 4000; dir: alternate; to: 0 -12 0; loop: true"><a-entity gltf-model="#tulipModel" rotation="-90 0 0"></a-entity></a-entity>

      <a-entity position="5 0 -2" scale="0.03 0.03 0.03" animation__sway="property: rotation; dur: 4300; dir: alternate; to: 0 5 0; loop: true"><a-entity gltf-model="#tulipModel" rotation="-90 0 0"></a-entity></a-entity>
      <a-entity position="6 0 3" scale="0.03 0.03 0.03" animation__sway="property: rotation; dur: 3800; dir: alternate; to: 0 -10 0; loop: true"><a-entity gltf-model="#tulipModel" rotation="-90 0 0"></a-entity></a-entity>
      <a-entity position="-5 0 -3" scale="0.03 0.03 0.03" animation__sway="property: rotation; dur: 4100; dir: alternate; to: 0 10 0; loop: true"><a-entity gltf-model="#tulipModel" rotation="-90 0 0"></a-entity></a-entity>

      <a-entity position="-6 0 -7" scale="0.03 0.03 0.03" animation__sway="property: rotation; dur: 3500; dir: alternate; to: 0 -8 0; loop: true"><a-entity gltf-model="#tulipModel" rotation="-90 0 0"></a-entity></a-entity>
      <a-entity position="6 0 -6" scale="0.03 0.03 0.03" animation__sway="property: rotation; dur: 3700; dir: alternate; to: 0 8 0; loop: true"><a-entity gltf-model="#tulipModel" rotation="-90 0 0"></a-entity></a-entity>
      <a-entity position="-7 0 2" scale="0.03 0.03 0.03" animation__sway="property: rotation; dur: 4300; dir: alternate; to: 0 -12 0; loop: true"><a-entity gltf-model="#tulipModel" rotation="-90 0 0"></a-entity></a-entity>
      <a-entity position="7 0 3" scale="0.03 0.03 0.03" animation__sway="property: rotation; dur: 4100; dir: alternate; to: 0 10 0; loop: true"><a-entity gltf-model="#tulipModel" rotation="-90 0 0"></a-entity></a-entity>

      <!--camera-->
      <a-entity camera position="0 1.6 3.5" wasd-controls look-controls>
        <!--gaze cursor-->
        <a-entity cursor="fuse: true; fuseTimeout: 1000" position="0 0 -1" geometry="primitive: ring; radiusInner: 0.01; radiusOuter: 0.015" material="shader: flat"></a-entity>
      </a-entity>

      <!--lights-->
      <a-entity light="type: ambient; intensity: 0.6; color: #ffffff"></a-entity>
      <a-entity light="type: directional; intensity: 0.9; color: #ffffff" position="1 4 2"></a-entity>

    </a-scene>
  </body>
</html>
